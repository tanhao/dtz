{"version":3,"sources":["GameScrollBar.js"],"names":["cc","Class","extends","Component","properties","_lastPosY","onLoad","update","dt","onGameBarScroll","scrollView","eventType","customEventData","posY","parseInt","getContentPosition","y","ScrollView","EventType","SCROLLING","Math","abs","btnHeight","currentIndex","buttons","getComponentsInChildren","Button","i","length","scale","node","setScale","setColor","color","SCROLL_ENDED","console","log","AUTOSCROLL_ENDED_WITH_THRESHOLD","max","getMaxScrollOffset","scrollToOffset","p"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAU;AADF,KAHP;;AAOLC,UAPK,oBAOK,CAET,CATI;AAYLC,UAZK,kBAYGC,EAZH,EAYO,CACX,CAbI;;;AAgBLC,qBAAgB,yBAASC,UAAT,EAAqBC,SAArB,EAAgCC,eAAhC,EAAgD;AAC5D,YAAIC,OAAKC,SAASJ,WAAWK,kBAAX,GAAgCC,CAAzC,CAAT;AACA,YAAGL,cAAaX,GAAGiB,UAAH,CAAcC,SAAd,CAAwBC,SAArC,IAAgDC,KAAKC,GAAL,CAASR,OAAK,KAAKR,SAAnB,IAA8B,CAAjF,EAAmF;AAC/E,iBAAKA,SAAL,GAAeQ,IAAf;AACA,gBAAIS,YAAU,GAAd;AACA,gBAAIC,eAAaT,SAAS,CAACD,OAAMS,YAAU,CAAX,IAAeT,OAAK,CAAL,GAAO,CAAP,GAAS,CAAC,CAAzB,CAAN,IAAmCS,SAA5C,IAAuD,CAAxE;AACA,gBAAIE,UAAQd,WAAWe,uBAAX,CAAmCzB,GAAG0B,MAAtC,CAAZ;AACA,iBAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEH,QAAQI,MAAtB,EAA6BD,GAA7B,EAAiC;AAC7B,oBAAIE,QAAMT,KAAKC,GAAL,CAASR,OAAK,CAAC,IAAEc,CAAH,IAAML,SAApB,IAA+B,GAAzC;AACAE,wBAAQG,CAAR,EAAWG,IAAX,CAAgBC,QAAhB,CAAyB,IAAEF,KAA3B;AACAL,wBAAQG,CAAR,EAAWG,IAAX,CAAgBE,QAAhB,CAAyBL,KAAGJ,YAAH,GAAgBvB,GAAGiC,KAAH,CAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,CAAhB,GAAsCjC,GAAGiC,KAAH,CAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,CAA/D;AACH;AACJ,SAVD,MAUM,IAAGtB,cAAaX,GAAGiB,UAAH,CAAcC,SAAd,CAAwBgB,YAAxC,EAAqD;AACvDC,oBAAQC,GAAR,CAAY,cAAZ;AAEH,SAHK,MAGA,IAAGzB,cAAaX,GAAGiB,UAAH,CAAcC,SAAd,CAAwBmB,+BAAxC,EAAwE;AAC1EF,oBAAQC,GAAR,CAAY,iCAAZ;AACA,gBAAIE,MAAI5B,WAAW6B,kBAAX,GAAgCvB,CAAxC;AACAmB,oBAAQC,GAAR,CAAY,IAAZ,EAAiBE,GAAjB;AACA5B,uBAAW8B,cAAX,CAA0BxC,GAAGyC,CAAH,CAAKH,MAAM,CAAX,EAAc,CAAd,CAA1B,EAA4C,GAA5C;AACH;AAEJ;;AAtCI,CAAT","file":"GameScrollBar.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        _lastPosY:0,\r\n    },\r\n\r\n    onLoad () {\r\n        \r\n    },\r\n\r\n\r\n    update (dt) {\r\n    },\r\n\r\n\r\n    onGameBarScroll:function(scrollView, eventType, customEventData){\r\n        var posY=parseInt(scrollView.getContentPosition().y);\r\n        if(eventType=== cc.ScrollView.EventType.SCROLLING&&Math.abs(posY-this._lastPosY)>1){\r\n            this._lastPosY=posY;\r\n            var btnHeight=174;\r\n            var currentIndex=parseInt((posY+(btnHeight/2)*(posY>0?1:-1))/btnHeight)+3;\r\n            var buttons=scrollView.getComponentsInChildren(cc.Button);\r\n            for(var i=0;i<buttons.length;i++){\r\n                var scale=Math.abs(posY+(3-i)*btnHeight)/800;\r\n                buttons[i].node.setScale(1-scale);\r\n                buttons[i].node.setColor(i==currentIndex?cc.color(255,255,255):cc.color(120,120,120));\r\n            }\r\n        }else if(eventType=== cc.ScrollView.EventType.SCROLL_ENDED){\r\n            console.log(\"SCROLL_ENDED\");\r\n           \r\n        }else if(eventType=== cc.ScrollView.EventType.AUTOSCROLL_ENDED_WITH_THRESHOLD){\r\n            console.log(\"AUTOSCROLL_ENDED_WITH_THRESHOLD\");\r\n            var max=scrollView.getMaxScrollOffset().y;\r\n            console.log(\"Y:\",max)\r\n            scrollView.scrollToOffset(cc.p(max / 2, 0), 0.5);\r\n        }\r\n        \r\n    }\r\n\r\n});\r\n"]}