{"version":3,"sources":["SocketIOManager.js"],"names":["cc","Class","extends","Component","properties","roomId","onLoad","initHandlers","connectServer","data","onConnectSuccess","director","loadScene","th","wc","hide","onConnectError","err","alert","show","sio","addr","ip","port","token","sign","time","connect"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAO;AADC,KAHP;;AAOLC,UAPK,oBAOK,CAET,CATI;;;AAWL;;;;AAIDC,kBAAa,wBAAU,CAEtB,CAjBK;;AAmBNC,mBAAc,uBAASC,IAAT,EAAc;AACvB,YAAIC,mBAAiB,SAAjBA,gBAAiB,GAAU;AAC3BV,eAAGW,QAAH,CAAYC,SAAZ,CAAsB,MAAtB,EAA6B,YAAU;AACnCC,mBAAGC,EAAH,CAAMC,IAAN;AACH,aAFD;AAGH,SAJD;;AAMA,YAAIC,iBAAe,SAAfA,cAAe,CAASC,GAAT,EAAa;AAC3BJ,eAAGC,EAAH,CAAMC,IAAN;AACAF,eAAGK,KAAH,CAASC,IAAT,CAAc,IAAd,EAAmBF,GAAnB,EAAuB,IAAvB,EAA4B,KAA5B,EAF2B,CAES;AACxC,SAHD;AAIAJ,WAAGO,GAAH,CAAOC,IAAP,GAAY,UAAQZ,KAAKa,EAAb,GAAgB,GAAhB,GAAoBb,KAAKc,IAAzB,GAA8B,UAA9B,GAAyCd,KAAKJ,MAA9C,GAAqD,SAArD,GAA+DI,KAAKe,KAApE,GAA0E,QAA1E,GAAmFf,KAAKgB,IAAxF,GAA6F,QAA7F,GAAsGhB,KAAKiB,IAAvH;AACAb,WAAGO,GAAH,CAAOO,OAAP,CAAejB,gBAAf,EAAgCM,cAAhC;AACJ;;AAhCK,CAAT","file":"SocketIOManager.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        roomId:null,\r\n    },\r\n\r\n    onLoad () {\r\n      \r\n    },\r\n\r\n    /*\r\n    update (dt) {\r\n    },\r\n    */\r\n   initHandlers:function(){\r\n\r\n   },\r\n\r\n   connectServer:function(data){\r\n        var onConnectSuccess=function(){\r\n            cc.director.loadScene(\"game\",function(){\r\n                th.wc.hide();\r\n            });\r\n        }\r\n\r\n        var onConnectError=function(err){\r\n             th.wc.hide();\r\n             th.alert.show('提示',err,null,false); //\r\n        }\r\n        th.sio.addr=\"ws://\"+data.ip+\":\"+data.port+\"?roomId=\"+data.roomId+\"&token=\"+data.token+\"&sign=\"+data.sign+\"&time=\"+data.time;\r\n        th.sio.connect(onConnectSuccess,onConnectError);\r\n   }\r\n    \r\n\r\n});\r\n"]}