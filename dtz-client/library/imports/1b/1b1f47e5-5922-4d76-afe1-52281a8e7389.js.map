{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\components/assets\\scripts\\components\\Hall.js"],"names":["cc","Class","extends","Component","properties","lblId","Label","lblName","lblBalance","lblMarquee","joinRoomWin","Node","createRoomWin","settingWin","spriteHead","Sprite","onLoad","initUserInfo","th","audioManager","playBGM","self","string","userManager","userId","userName","balance","log","headImgUrl","loader","load","url","type","err","texture","headSpriteFrame","SpriteFrame","Rect","width","height","spriteFrame","update","dt","x","node","onCreateRoomClicked","active","onJoinRoomClicked","onSettingClicked"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAML,GAAGM,KADD;AAERC,iBAAQP,GAAGM,KAFH;AAGRE,oBAAWR,GAAGM,KAHN;AAIRG,oBAAWT,GAAGM,KAJN;AAKRI,qBAAYV,GAAGW,IALP;AAMRC,uBAAcZ,GAAGW,IANT;AAORE,oBAAWb,GAAGW,IAPN;AAQRG,oBAAWd,GAAGe;AARN,KAHP;;AAcLC,YAAQ,kBAAY;AAChB,aAAKC,YAAL;AACAC,WAAGC,YAAH,CAAgBC,OAAhB,CAAwB,aAAxB;AACH,KAjBI;;AAmBLH,kBAAa,wBAAU;AACnB,YAAII,OAAK,IAAT;AACA,aAAKhB,KAAL,CAAWiB,MAAX,GAAoB,QAAMJ,GAAGK,WAAH,CAAeC,MAAzC;AACA,aAAKjB,OAAL,CAAae,MAAb,GAAsBJ,GAAGK,WAAH,CAAeE,QAArC;AACA,aAAKjB,UAAL,CAAgBc,MAAhB,GAAyBJ,GAAGK,WAAH,CAAeG,OAAxC;AACA1B,WAAG2B,GAAH,CAAOT,GAAGK,WAAH,CAAeK,UAAtB;AACA5B,WAAG6B,MAAH,CAAUC,IAAV,CAAe,EAACC,KAAKb,GAAGK,WAAH,CAAeK,UAArB,EAAiCI,MAAM,KAAvC,EAAf,EAA8D,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AAClF,gBAAG,CAACD,GAAJ,EAAQ;AACJ,oBAAIE,kBAAkB,IAAInC,GAAGoC,WAAP,CAAmBF,OAAnB,EAA4BlC,GAAGqC,IAAH,CAAQ,CAAR,EAAW,CAAX,EAAcH,QAAQI,KAAtB,EAA6BJ,QAAQK,MAArC,CAA5B,CAAtB;AACAlB,qBAAKP,UAAL,CAAgB0B,WAAhB,GAA4BL,eAA5B;AACA;AACH;AACJ,SAND;AAOH,KAhCI;;AAkCLM,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAIC,IAAI,KAAKlC,UAAL,CAAgBmC,IAAhB,CAAqBD,CAA7B;AACAA,aAAKD,KAAG,GAAR;AACA,YAAGC,IAAI,KAAKlC,UAAL,CAAgBmC,IAAhB,CAAqBN,KAAzB,GAAiC,CAAC,GAArC,EAAyC;AACrCK,gBAAI,GAAJ;AACH;AACD,aAAKlC,UAAL,CAAgBmC,IAAhB,CAAqBD,CAArB,GAAyBA,CAAzB;AACH,KAzCI;;AA2CL;;AAEA;;AAEAE,yBAAsB,+BAAU;AAC5B,aAAKjC,aAAL,CAAmBkC,MAAnB,GAA0B,IAA1B;AACH,KAjDI;;AAmDLC,uBAAoB,6BAAU;AAC1B,aAAKrC,WAAL,CAAiBoC,MAAjB,GAAwB,IAAxB;AACH,KArDI;;AAuDLE,sBAAmB,4BAAU;AACzB,aAAKnC,UAAL,CAAgBiC,MAAhB,GAAuB,IAAvB;AACH;;AAzDI,CAAT","file":"Hall.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        lblId:cc.Label,\r\n        lblName:cc.Label,\r\n        lblBalance:cc.Label,\r\n        lblMarquee:cc.Label,\r\n        joinRoomWin:cc.Node,\r\n        createRoomWin:cc.Node,\r\n        settingWin:cc.Node,\r\n        spriteHead:cc.Sprite\r\n    },\r\n\r\n    onLoad: function () {\r\n        this.initUserInfo();\r\n        th.audioManager.playBGM(\"bg_hall.mp3\");\r\n    },\r\n\r\n    initUserInfo:function(){\r\n        var self=this;\r\n        this.lblId.string = \"ID:\"+th.userManager.userId;\r\n        this.lblName.string = th.userManager.userName;\r\n        this.lblBalance.string = th.userManager.balance;\r\n        cc.log(th.userManager.headImgUrl);\r\n        cc.loader.load({url: th.userManager.headImgUrl, type: 'jpg'}, function (err, texture) {\r\n            if(!err){\r\n                var headSpriteFrame = new cc.SpriteFrame(texture, cc.Rect(0, 0, texture.width, texture.height));\r\n                self.spriteHead.spriteFrame=headSpriteFrame;\r\n                //cc.log(texture.width, texture.height);\r\n            }\r\n        });\r\n    },\r\n\r\n    update: function (dt) {\r\n        var x = this.lblMarquee.node.x;\r\n        x -= dt*100;\r\n        if(x + this.lblMarquee.node.width < -250){\r\n            x = 260;\r\n        }\r\n        this.lblMarquee.node.x = x;\r\n    },\r\n\r\n    // start: function (dt) {\r\n\r\n    // },\r\n\r\n    onCreateRoomClicked : function(){\r\n        this.createRoomWin.active=true;\r\n    },\r\n\r\n    onJoinRoomClicked : function(){\r\n        this.joinRoomWin.active=true;\r\n    },\r\n\r\n    onSettingClicked : function(){\r\n        this.settingWin.active=true;\r\n    }\r\n\r\n});\r\n"]}