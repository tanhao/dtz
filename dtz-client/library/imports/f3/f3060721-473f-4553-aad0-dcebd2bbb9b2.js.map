{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\SocketIOManager.js"],"names":["cc","Class","extends","Component","properties","dataEventHandler","roomId","onLoad","dispatchEvent","event","data","emit","initHandlers","connectServer","onConnectSuccess","director","loadScene","th","wc","hide","onConnectError","err","alert","show","sio","addr","ip","port","token","sign","time","connect"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,0BAAiB,IADT,EACe;AACvBC,gBAAO;AAFC,KAHP;;AAQLC,UARK,oBAQK,CAET,CAVI;;;AAYL;;;;;AAKAC,iBAjBK,yBAiBSC,KAjBT,EAiBeC,IAjBf,EAiBoB;AACrB,YAAG,KAAKL,gBAAR,EAAyB;AACrB,iBAAKA,gBAAL,CAAsBM,IAAtB,CAA2BF,KAA3B,EAAiCC,IAAjC;AACH;AACJ,KArBI;;;AAuBLE,kBAAa,wBAAU,CAEtB,CAzBI;;AA2BNC,mBAAc,uBAASH,IAAT,EAAc;AACvB,YAAII,mBAAiB,SAAjBA,gBAAiB,GAAU;AAC3Bd,eAAGe,QAAH,CAAYC,SAAZ,CAAsB,MAAtB,EAA6B,YAAU;AACnCC,mBAAGC,EAAH,CAAMC,IAAN;AACH,aAFD;AAGH,SAJD;;AAMA,YAAIC,iBAAe,SAAfA,cAAe,CAASC,GAAT,EAAa;AAC3BJ,eAAGC,EAAH,CAAMC,IAAN;AACAF,eAAGK,KAAH,CAASC,IAAT,CAAc,IAAd,EAAmBF,GAAnB,EAAuB,IAAvB,EAA4B,KAA5B,EAF2B,CAES;AACxC,SAHD;AAIAJ,WAAGO,GAAH,CAAOC,IAAP,GAAY,UAAQf,KAAKgB,EAAb,GAAgB,GAAhB,GAAoBhB,KAAKiB,IAAzB,GAA8B,UAA9B,GAAyCjB,KAAKJ,MAA9C,GAAqD,SAArD,GAA+DI,KAAKkB,KAApE,GAA0E,QAA1E,GAAmFlB,KAAKmB,IAAxF,GAA6F,QAA7F,GAAsGnB,KAAKoB,IAAvH;AACAb,WAAGO,GAAH,CAAOO,OAAP,CAAejB,gBAAf,EAAgCM,cAAhC;AACJ;;AAxCK,CAAT","file":"SocketIOManager.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        dataEventHandler:null, //处理socket.io发过来的数据的节点\r\n        roomId:null,\r\n    },\r\n\r\n    onLoad () {\r\n      \r\n    },\r\n\r\n    /*\r\n    update (dt) {\r\n    },\r\n    */\r\n\r\n    dispatchEvent(event,data){\r\n        if(this.dataEventHandler){\r\n            this.dataEventHandler.emit(event,data);\r\n        }    \r\n    },\r\n\r\n    initHandlers:function(){\r\n\r\n    },\r\n\r\n   connectServer:function(data){\r\n        var onConnectSuccess=function(){\r\n            cc.director.loadScene(\"game\",function(){\r\n                th.wc.hide();\r\n            });\r\n        }\r\n\r\n        var onConnectError=function(err){\r\n             th.wc.hide();\r\n             th.alert.show('提示',err,null,false); //\r\n        }\r\n        th.sio.addr=\"ws://\"+data.ip+\":\"+data.port+\"?roomId=\"+data.roomId+\"&token=\"+data.token+\"&sign=\"+data.sign+\"&time=\"+data.time;\r\n        th.sio.connect(onConnectSuccess,onConnectError);\r\n   }\r\n    \r\n\r\n});\r\n"]}